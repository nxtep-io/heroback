"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const ts_framework_common_1 = require("ts-framework-common");
class HerobackProvider {
    constructor(options) {
        this.options = options;
        this.logger = options.logger || ts_framework_common_1.Logger.getInstance();
        // Clean the options uri undefined params
        Object.keys(this.options.uri).forEach(key => this.options.uri[key] === undefined && delete this.options.uri[key]);
        this.logger.debug(`Initializing provider for "${this.uriDefaults().protocol}" database`, {
            uri: this.uri
        });
    }
    get uri() {
        return Object.assign({}, this.uriDefaults(), this.options.uri);
    }
}
exports.default = HerobackProvider;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvdmlkZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9saWIvYmFzZS9wcm92aWRlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUNBLDZEQUE2QztBQVk3QyxNQUE4QixnQkFBZ0I7SUFJNUMsWUFBbUIsT0FBZ0M7UUFBaEMsWUFBTyxHQUFQLE9BQU8sQ0FBeUI7UUFDakQsSUFBSSxDQUFDLE1BQU0sR0FBRyxPQUFPLENBQUMsTUFBTSxJQUFJLDRCQUFNLENBQUMsV0FBVyxFQUFFLENBQUM7UUFFckQseUNBQXlDO1FBQ3pDLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUUsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBRSxHQUFHLENBQUMsS0FBSyxTQUFTLElBQUksT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBRSxHQUFHLENBQUMsQ0FBQyxDQUFBO1FBRXBILElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLDhCQUE4QixJQUFJLENBQUMsV0FBVyxFQUFFLENBQUMsUUFBUSxZQUFZLEVBQUU7WUFDdkYsR0FBRyxFQUFFLElBQUksQ0FBQyxHQUFHO1NBQ2QsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQUVELElBQUksR0FBRztRQUNMLHlCQUFZLElBQUksQ0FBQyxXQUFXLEVBQUUsRUFBSyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRztJQUN4RCxDQUFDO0NBUUY7QUF6QkQsbUNBeUJDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ2hpbGRQcm9jZXNzIH0gZnJvbSBcImNoaWxkX3Byb2Nlc3NcIjtcbmltcG9ydCB7IExvZ2dlciB9IGZyb20gJ3RzLWZyYW1ld29yay1jb21tb24nO1xuaW1wb3J0IEhlcm9iYWNrRHVtcCBmcm9tIFwiLi4vZHVtcFwiO1xuaW1wb3J0ICogYXMgVXRpbHMgZnJvbSAnLi4vdXRpbHMnO1xuXG5leHBvcnQgaW50ZXJmYWNlIER1bXBPcHRpb25zIHtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBIZXJvYmFja1Byb3ZpZGVyT3B0aW9ucyB7XG4gIHVyaTogVXRpbHMuVXJpUGFyYW1zU2NoZW1hO1xuICBsb2dnZXI/OiBMb2dnZXI7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGFic3RyYWN0IGNsYXNzIEhlcm9iYWNrUHJvdmlkZXIge1xuICBwdWJsaWMgcmVhZG9ubHkgbG9nZ2VyOiBMb2dnZXI7XG4gIHB1YmxpYyBhYnN0cmFjdCByZWFkb25seSBleHQ6IHN0cmluZztcblxuICBjb25zdHJ1Y3RvcihwdWJsaWMgb3B0aW9uczogSGVyb2JhY2tQcm92aWRlck9wdGlvbnMpIHtcbiAgICB0aGlzLmxvZ2dlciA9IG9wdGlvbnMubG9nZ2VyIHx8IExvZ2dlci5nZXRJbnN0YW5jZSgpO1xuICAgIFxuICAgIC8vIENsZWFuIHRoZSBvcHRpb25zIHVyaSB1bmRlZmluZWQgcGFyYW1zXG4gICAgT2JqZWN0LmtleXModGhpcy5vcHRpb25zLnVyaSApLmZvckVhY2goa2V5ID0+IHRoaXMub3B0aW9ucy51cmkgW2tleV0gPT09IHVuZGVmaW5lZCAmJiBkZWxldGUgdGhpcy5vcHRpb25zLnVyaSBba2V5XSlcblxuICAgIHRoaXMubG9nZ2VyLmRlYnVnKGBJbml0aWFsaXppbmcgcHJvdmlkZXIgZm9yIFwiJHt0aGlzLnVyaURlZmF1bHRzKCkucHJvdG9jb2x9XCIgZGF0YWJhc2VgLCB7XG4gICAgICB1cmk6IHRoaXMudXJpXG4gICAgfSk7XG4gIH1cblxuICBnZXQgdXJpKCkge1xuICAgIHJldHVybiB7IC4uLnRoaXMudXJpRGVmYXVsdHMoKSwgLi4udGhpcy5vcHRpb25zLnVyaSB9O1xuICB9XG5cbiAgcHVibGljIGFic3RyYWN0IHVyaURlZmF1bHRzKCk6IFBhcnRpYWw8VXRpbHMuVXJpUGFyYW1zU2NoZW1hPjtcblxuICBwdWJsaWMgYXN5bmMgYWJzdHJhY3QgZHVtcChvcHRpb25zPzogRHVtcE9wdGlvbnMpOiBQcm9taXNlPENoaWxkUHJvY2Vzcz47XG5cbiAgcHVibGljIGFzeW5jIGFic3RyYWN0IHJlc3RvcmUoZHVtcDogSGVyb2JhY2tEdW1wKTogUHJvbWlzZTxib29sZWFuPjtcblxufSJdfQ==